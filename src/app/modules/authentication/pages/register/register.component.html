<section class="register-page d-flex justify-content-center align-items-center" #registerationForm>
    <p-toast></p-toast>
    <div class="form_container d-flex flex-column gap-5 pt-5">
        <i class="fa-solid fa-xmark" (click)="colsePopup()"></i>
        <h1>Register</h1>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <div class="inputs mb-3">
                <div class="input-feild d-flex align-items-center gap-2 px-4 my-4">
                    <img src="./assets/imgs/icons/user.png" alt="username img">
                    <input type="text" placeholder="Username" formControlName="userName">
                </div>
                <small 
                          *ngIf="registerForm.controls.userName.dirty 
                          && 
                          registerForm.hasError('required','userName')" 
                          class="text-danger m-0 p-0"
                        >
                          Username is required
                        </small>
                <div class="input-feild d-flex align-items-center gap-2 px-4 my-4">
                    <img src="./assets/imgs/icons/mail.png" alt="email img">
                    <input type="email" placeholder="Email" formControlName="email">
                </div>
                <small 
                          *ngIf="registerForm.controls.email.dirty 
                          && 
                          registerForm.hasError('required','email')" 
                          class="text-danger m-0 p-0"
                        >
                            email is required
                        </small>
                <div class="input-feild d-flex align-items-center gap-2 px-4 my-4">
                    <img src="./assets/imgs/icons/password.png" alt="password">
                    <input [type]="passwordVisibility ? 'text' : 'password'" placeholder="Password"
                        formControlName="password">
                    <img (click)="togglePasswordVisibility('Password')" [src]="
                              passwordVisibility
                                ? './assets/imgs/icons/hidden.png'
                                : './assets/imgs/icons/eye.png'
                            " class="eye-icon" alt="eye icon">
                </div>
                <small 
                          *ngIf="registerForm.controls.password.dirty 
                          && 
                          registerForm.hasError('required','password')" 
                          class="text-danger m-0 p-0">
                          password is required
                        </small>
                @if (errorMassage != '') {
                <p class="text-danger m-0">{{errorMassage}}</p>

                }
            </div>
            <div class="submit-btn d-flex align-items-center justify-content-center">
                <button class=" btn py-2 px-4 mb-5">REGISTER</button>
            </div>
        </form>
    </div>
</section>